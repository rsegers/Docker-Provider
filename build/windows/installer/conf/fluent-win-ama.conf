#container inventory
<source>
  @type containerinventory
  tag oneagent.containerInsights.CONTAINER_INVENTORY_BLOB
  run_interval 60
  @log_level debug
</source>

#containerinventory
<match **CONTAINER_INVENTORY_BLOB**>
  @type named_pipe
  @log_level debug
  datatype CONTAINER_INVENTORY_BLOB
  <format>
	@type msgpack
  </format>
  <buffer>
    @type file
    path /etc/amalogswindows/out_namedpipe_containerinventory.buffer
    overflow_action drop_oldest_chunk
    chunk_limit_size 4m
    flush_interval 20s
    retry_max_times 10
    retry_wait 5s
    retry_max_interval 5m
    flush_thread_count 5   
  </buffer>
</match>